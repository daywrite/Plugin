@{
    ViewBag.Title = "Contacts Page";
}

@using UIShell.OSGi.MvcWebExtension
@using ContactsPlugin.Models
@using ContactsPlugin.ViewModels
@model ContactListViewModel

<!-- Page title -->
<div class="page-title">
    <h2><i class="icon-desktop color"></i> 联系人 <small>显示所有联系人信息</small></h2>
    <hr />
</div>
<!-- Page title -->
<div class="awidget">
    <div class="awidget-head">
        <div class="row">
            <div class="col-md-12"><button type="button" class="btn btn-primary pull-right" onclick="javascript: location.href='@Url.Action("AddOrEdit", new { currentPageNum = Model.CurrentPageNum, pageSize = Model.PageSize })';">新增联系人</button></div>
        </div>
    </div>
    <div class="awidget-body">
        <div class="row">
            <div class="col-md-12">
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Phome</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (Contact contact in Model.PagedModels)
                            {
                                <tr>
                                    <td>

                                        <button type="button" class="btn btn-xs btn-warning" onclick="javascript: location.href = '@Url.Action("AddOrEdit", new { id = contact.Id, currentPageNum = Model.CurrentPageNum, pageSize = Model.PageSize })';">
                                            <i class="icon-pencil"></i>
                                        </button>
                                        <button type="button" class="btn btn-xs btn-danger" onclick="javacript: if (confirm('确认要删除这条数据吗？')) {  location.href = '@Url.Action("Delete", new { id = contact.Id, currentPageNum = Model.CurrentPageNum, pageSize = Model.PageSize })'; };">
                                            <i class="icon-remove"></i>
                                        </button>

                                    </td>
                                    <td>@contact.Name</td>
                                    <td>@contact.Phone</td>
                                    <td>@contact.Email</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>

                @Html.Partial("_PagedListBottom")
            </div>
        </div>
    </div>
</div>